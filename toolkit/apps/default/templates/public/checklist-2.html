{% extends 'public/base.html' %}

{% load url from future %}
{% block navbar %}
 <div class="navbar navbar-inverse checklist-nav">
    <div class="navbar-header">
        <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-collapse-03"></button>
        <a href="#fakelink" class="navbar-brand">Matter Name</a>
    </div>
    <div class="navbar-collapse collapse navbar-collapse-03">
        <ul class="nav navbar-nav">
            <li class="active">
                <a href="#fakelink">Checklist</a>
            </li>
            <li>
                <a href="#fakelink">Closing</a>
            </li>
           
            <li class="checklist-members">
                <a href="#fakelink">
                <span class="fui-user"></span> 
                <img src="https://fbcdn-profile-a.akamaihd.net/hprofile-ak-ash3/t1/c0.0.100.100/p100x100/1014416_10100118438650161_136799916_a.jpg" class="user">
                <img src="https://fbcdn-profile-a.akamaihd.net/hprofile-ak-ash2/t1/c12.12.155.155/314032_10150303812474864_594285312_a.jpg" class="user">
                <img src="https://fbcdn-profile-a.akamaihd.net/hprofile-ak-frc3/t1/c42.26.328.328/s320x320/229934_10150955684263644_890325486_n.jpg" class="user">
                </a>
            </li>
            <li class="">
                <a href="#fakelink">
                	<span class="fui-chat"></span>
                	<span class="navbar-new animated">1</span>
                </a>
            </li>
        </ul>
        <!-- /nav -->
        <form class="navbar-form navbar-left" action="#">
            <div class="form-group">
                <div class="input-group input-group-sm">
                    <input class="form-control" id="navbarInput-02" type="search" placeholder="Search">
                    <span class="input-group-btn">
                    <button type="submit" class="btn"><span class="fui-search"></span></button>
                    </span>            
                </div>
            </div>
        </form>
        <ul class="nav navbar-nav navbar-right">
            <li class="divider"></li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                {{ user.get_full_name|default:'Jon Smith' }} <b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                    <li><a href="{% url 'me:settings' %}">Account</a></li>
                    {% if user.profile.is_lawyer %}
                    <li><a href="{% url 'me:letterhead' %}">Letterhead</a></li>
                    {% endif %}
                    <li><a href="{% url 'public:logout' %}">Sign out</a></li>
                </ul>
            </li>
        </ul>
        <!-- /nav -->
    </div>
    <!--/.navbar-collapse -->
</div>


{% endblock %}


{% block prebody %}
<style>
body {background-color: #f2f2f2;}
</style>
	<div id="checklist">		
		<div class="container-fluid">
			<div class="row">
				<div class="col-sm-5 checklist-col">
					<table class="table checklist">
			            <thead>
				              <tr>
				                <th colspan="1" class="col-sm-6 category">Incorporation</th>
				              	<th class="category-controls">
				              		<!-- TODO : make these buttons appear when the tbody appears-->
									<div class="btn-group pull-right">              
				              			<button class="btn btn-success btn-xs" id="add-new"><span class="fui-plus-inverted"></span></button>
				              			<button class="btn btn-default dropdown-toggle btn-xs" type="button" data-toggle="dropdown"><span class="fui-triangle-down"></span></button>
						          	  	<ul class="dropdown-menu dropdown-inverse dropdown-small">
						                	<li><a href="#fakelink">New Category</a></li>
						                	<li><a href="#fakelink">Edit Category</a></li>
						                	<li><a href="#fakelink">Delete Category</a></li>

						              	</ul>
						            </div>
				              	</th>
				              </tr>
			            </thead>
			            <tbody>
			            <tr class="add-new-controls warning" style="display:none;">
			              	<td colspan="2">
			              		<div class="input-group">
					          	  	<input class="form-control input-sm" id="appendedInputButton-03" type="search" placeholder="Enter item name and press enter">
					          	  	<div class="input-group-btn">
					          	    	<button class="btn btn-link  dropdown-toggle input-sm" type="button" data-toggle="dropdown"><span class="fui-gear"></span></button>
						          	  	<ul class="dropdown-menu dropdown-inverse dropdown-small">
						                	<li><a href="#fakelink">Set closing group</a></li>
						                	<li><a href="#fakelink">Set description</a></li>
						                	<li><a href="#fakelink">Set due date</a></li>
						              	</ul>
					          	  </div>
					          	</div>	
			              	</td>
			              </tr>
			              <tr class="item-heading item-closed">
			                <td class="item-title">
			                	<span class="fui-list-columned"></span> 
			                	Articles of Incorporation 
			                </td>
			                <td class="status text-right">
			                	<span class="fui-check-inverted"></span>
			                </td>
			              </tr>
					      <tr>
			                <td class="item-title item-open">
			                	<span class="fui-list-columned"></span> Bylaws 
			                </td>
			                <td class="status">
			                	<span class="fui-check-filled"></span>
			                </td>
			              </tr>
						  <tr class="shareholders">
			                <td class="item-title item-open">
			                	<span class="fui-list-columned"></span> Shareholders agreement 
			                </td>
			                <td class="status">
			                </td>
			              </tr>
						  <tr class="note">
			                <td class="item-title item-open">
			                	<span class="fui-list-columned"></span> Note purchase agreement 
			                </td>
			                <td class="status">
			                	<button class="btn btn-warning btn-xs" disabled><span class="fui-time"></span> Awaiting Files (BW)</button>
			                </td>
			              </tr>
						  <tr class="spa">
			                <td class="item-title item-open">
			                	<span class="fui-list-columned"></span> Stock purchase agreement 
			                </td>
			                <td class="status">
			                	<button class="btn btn-success btn-xs" disabled><span class="fui-check"></span> File Received</button>
			                </td>
			              </tr>
						  <tr class="custom">
			                <td class="item-title item-open">
			                	<span class="fui-list-columned"></span> Custom agreement B 
			                </td>
			                <td class="status">
			                	<button class="btn btn-warning btn-xs" disabled><span class="fui-user"></span> Review 66%</button>
			                </td>
			              </tr>
			            </tbody>
						<thead>
				              <tr>
				                <th colspan="1" class="col-sm-6 category">Incorporation</th>
				              	<th class="category-controls">
				              		<!-- TODO : make these buttons appear when the tbody appears-->
									<div class="btn-group pull-right">              
				              			<button class="btn btn-success btn-xs" id="add-new"><span class="fui-plus-inverted"></span></button>
				              			<button class="btn btn-default dropdown-toggle btn-xs" type="button" data-toggle="dropdown"><span class="fui-triangle-down"></span></button>
						          	  	<ul class="dropdown-menu dropdown-inverse dropdown-small">
						                	<li><a href="#fakelink">New Category</a></li>
						                	<li><a href="#fakelink">Edit Category</a></li>
						                	<li><a href="#fakelink">Delete Category</a></li>

						              	</ul>
						            </div>
				              	</th>
				              </tr>
			            </thead>
			            <tbody>
			            <tr class="add-new-controls warning" style="display:none;">
			              	<td colspan="2">
			              		<div class="input-group">
					          	  	<input class="form-control input-sm" id="appendedInputButton-03" type="search" placeholder="Enter item name and press enter">
					          	  	<div class="input-group-btn">
					          	    	<button class="btn btn-link  dropdown-toggle input-sm" type="button" data-toggle="dropdown"><span class="fui-gear"></span></button>
						          	  	<ul class="dropdown-menu dropdown-inverse dropdown-small">
						                	<li><a href="#fakelink">Set closing group</a></li>
						                	<li><a href="#fakelink">Set description</a></li>
						                	<li><a href="#fakelink">Set due date</a></li>
						              	</ul>
					          	  </div>
					          	</div>	
			              	</td>
			              </tr>
			              <tr class="item-closed">
			                <td class="item-title">
			                	<span class="fui-list-columned"></span> 
			                	Articles of Incorporation 
			                </td>
			                <td class="status text-right">
			                	<span class="fui-check-inverted"></span>
			                </td>
			              </tr>
					      <tr class="item-closed">
			                <td class="item-title item-closed">
			                	<span class="fui-list-columned"></span> Bylaws 
			                </td>
			                <td class="status">
			                	<span class="fui-check-inverted"></span>
			                </td>
			              </tr>
						  <tr class="item-closed">
			                <td class="item-title item-closed">
			                	<span class="fui-list-columned"></span> Shareholders agreement 
			                </td>
			                <td class="status">
			                	<span class="fui-check-inverted"></span>

			                </td>
			              </tr>
						  <tr class="item-closed">
			                <td class="item-title item-open">
			                	<span class="fui-list-columned"></span> Note purchase agreement 
			                </td>
			                <td class="status">
			                	<span class="fui-check-inverted"></span>
			                </td>
			              </tr>
						  <tr class="spa">
			                <td class="item-title item-open">
			                	<span class="fui-list-columned"></span> Stock purchase agreement 
			                </td>
			                <td class="status">
			                	<button class="btn btn-success btn-xs" disabled><span class="fui-check"></span> File Received</button>
			                </td>
			              </tr>
						  <tr class="custom">
			                <td class="item-title item-open">
			                	<span class="fui-list-columned"></span> Custom agreement B 
			                </td>
			                <td class="status">
			                	<button class="btn btn-warning btn-xs" disabled><span class="fui-user"></span> Review 66%</button>
			                </td>
			              </tr>
			            </tbody>
		          </table>
		      	</div>
				<!--Example of blank-->

				<div class="col-sm-4 item shareholders" style="display:none;">
					<h3>Shareholders Agreement <a href="#" class="btn btn-xs btn-info pull-right" data-toggle="modal" data-target="#attachWorkflowModal"><span class="fui-list-bulleted"></span> Add Tool</a></h3>
					<!--Item description. Can only be entered by a lawyer on the deal. A comparable interface is the one used inside Trello.s-->
					<ul class="list-unstyled">
						<li class="step active first">
							<h4><span class="fui-question"></span> Add or request file</h4>
							<p>Start by uploading a file or requesting a file from another person.</p>
							<a href="#" class="btn btn-info btn-sm" id="upload-doc"><span class="fui-clip"></span> Drop or Upload File</a>
							<a href="#" class="btn btn-info  btn-sm" data-toggle="modal" data-target="#requestFileModal"><span class="fui-user"></span> Request File</a>
						</li>
					</ul>
				</div>
				<div class="col-sm-4 item note" style="display:none;">
					<h3>Note Purchase Agreement</h3>
					<ul class="list-unstyled">
						<li class="step active first in-progress">
							<h4><span class="fui-time"></span> Waiting for file from Barry White</h4>
							<div class="text-left btn-group">
								<a href="#" class="btn btn-inverse  btn-sm" id="upload-doc"><span class="fui-alert"></span> Remind</a>
								<a href="#" class="btn btn-default btn-sm" id="upload-doc"><span class="fui-cross"></span> Cancel</a>
							</div>
						</li>
					</ul>
				</div>
				<div class="col-sm-7 item spa" style="display:;">
					<h3>Stock Purchase Agreement 
						<div id="item-description-toggle"><small class="text-muted"><a href="#" class="link">Enter item description</a></small></div>
						<div class="btn-group pull-right">
							<a href="#" class="btn-inverse btn-xs pull-right" class="dropdown-toggle" data-toggle="dropdown">Options</a>
							<ul class="dropdown-menu dropdown-inverse">
								<li><a href="#"><span class="fui-calendar"></span> Set due date</a></li>
								<li><a href="#"><span class="fui-calendar"></span> Add wizard</a></li>
								<li><a href="#"><span class="fui-star-2"></span> Set closing group</a></li>
								<li><a href="#"><span class="fui-loop r"></span> Clone</a></li>
								<li><a href="#"><span class="fui-trash text-danger"></span> Delete</a></li>
							</ul>
						</div>
					</h3>	
			
					<div id="item-description" style="display:none;">
						<textarea class="form-control" rows="3" placeholder="Enter a description for this item"></textarea>
						<a href="#" class="btn btn-primary btn-xs">Save description</a>
						<a href="#" class="btn btn-inverse btn-xs">Cancel</a>
						<a href="#" class="btn btn-link btn-xs pull-right" title="Markdown help">Formatting Help</a>
					</div>
					<div class="row">
						<div class="col-sm-7">
							<ul class="list-unstyled item-progress">
								<li class="">
									<div class="fui-check"></div> <img src="https://fbcdn-profile-a.akamaihd.net/hprofile-ak-ash3/t1/c0.0.100.100/p100x100/1014416_10100118438650161_136799916_a.jpg" class="user"> <span>File received from Barry white</span>
									<div class="file">
										<div class="col-sm-3 icon icon-doc" style="text-align:center;">
											<span class="fui-document"></span>
										</div>
										<div class="col-sm-9 meta">
											<a href="#">Document.doc</a>
										</div>
									</div> 
									<div class="btn-group">
										<a href="#" class="btn btn-xs btn-default">View</a>
										<a href="#" class="btn btn-xs btn-default">Download</a>
										<a href="#" class="btn btn-xs btn-default">Edit</a>
										<a href="#" class="btn btn-xs btn-default">Request Review</a>
										<a href="#" class="btn btn-xs btn-success pull-right">Mark as Final</a> 
									</div>

								</li>
							</ul>
						</div>
						<div class="col-sm-5 chat">
							<h4><span class="fui-chat"></span> Discuss</h4>
							<ul class="list-unstyled">
								<li class="message me">
									<div class="media">
										<a class="user-icon" href="#"><span class="fui-user"></span></a>
										<div class="media-body">
										    <div class="msg-body">I've attached the new draft and will shortly send it for review. We'll see what the other side says.</div>
										    <div class="msg-meta">Adam Bier, 25th June to AH, BC</div>
										</div>
									</div>
								</li>
								<li class="message other">
									<div class="media">
										<a class="user-icon" href="#"><span class="fui-user"></span></a>
										<div class="media-body">
										    <div class="msg-body">I've attached the new draft and will shortly send it for review. We'll see what the other side says.</div>
										    <div class="msg-meta">Adam Bier, 25th June to AH, BC</div>
										</div>
									</div>
								</li>
								<li class="action">
									<span class="fui-document"></span> Adam uploaded a new draft.
								</li>
							</ul>
							<div class="new-message">
								<textarea class="form-control" rows="2" placeholder="Say something about Shareholders Agreement and press enter..."></textarea>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
<!-- Modals -->

<!-- 1. Add Party -->
<div class="modal" id="requestFileModal" tabindex="-1" role="dialog" aria-labelledby="requestFileModal" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Request file for Shareholders Agreement</h4>
      </div>
      <div class="modal-body">
		<strong>Existing members</strong>
        <div class="media">
		  <a class="pull-left" href="#">
		    <img class="media-object" src="http://placehold.it/30x30/" alt="...">
		  </a>
		  <div class="media-body">
		    Alex Halliday
		    <a href="#" class="btn btn-info btn-sm pull-right">Request File</a>
		  </div>
		</div>
		<div class="media">
		  <a class="pull-left" href="#">
		    <img class="media-object" src="http://placehold.it/30x30/" alt="...">
		  </a>
		  <div class="media-body">
		    Yael Citro
		    <a href="#" class="btn btn-info btn-sm pull-right">Request File</a>
		  </div>
		</div>
		<hr />
		<strong>Request file from someone new</strong>
		<div class="row">
			<div class="col-sm-8">
				<input class="form-control" type="text" data-provide="typeahead" data-items="4" data-source="[&quot;Alabama&quot;,&quot;Alaska&quot;,&quot;Arizona&quot;,&quot;Arkansas&quot;,&quot;California&quot;,&quot;Colorado&quot;,&quot;Connecticut&quot;,&quot;Delaware&quot;,&quot;Florida&quot;,&quot;Georgia&quot;,&quot;Hawaii&quot;,&quot;Idaho&quot;,&quot;Illinois&quot;,&quot;Indiana&quot;,&quot;Iowa&quot;,&quot;Kansas&quot;,&quot;Kentucky&quot;,&quot;Louisiana&quot;,&quot;Maine&quot;,&quot;Maryland&quot;,&quot;Massachusetts&quot;,&quot;Michigan&quot;,&quot;Minnesota&quot;,&quot;Mississippi&quot;,&quot;Missouri&quot;,&quot;Montana&quot;,&quot;Nebraska&quot;,&quot;Nevada&quot;,&quot;New Hampshire&quot;,&quot;New Jersey&quot;,&quot;New Mexico&quot;,&quot;New York&quot;,&quot;North Dakota&quot;,&quot;North Carolina&quot;,&quot;Ohio&quot;,&quot;Oklahoma&quot;,&quot;Oregon&quot;,&quot;Pennsylvania&quot;,&quot;Rhode Island&quot;,&quot;South Carolina&quot;,&quot;South Dakota&quot;,&quot;Tennessee&quot;,&quot;Texas&quot;,&quot;Utah&quot;,&quot;Vermont&quot;,&quot;Virginia&quot;,&quot;Washington&quot;,&quot;West Virginia&quot;,&quot;Wisconsin&quot;,&quot;Wyoming&quot;]" placeholder="atticus.finch@gmail.com">
	      	</div>
			<div class="col-sm-4">
	      		<a href="#" class="btn btn-default">Invite</a>
	      	</div>
	     </div>
	     <div class="row">
	     	<div class="col-sm-8">
		     	<textarea class="form-control" placeholder="Add an optional message...."></textarea>
			</div>
	     </div>
	     <div class="row">
			<div class="col-sm-12">
	      		<small class="text-muted">User will be invited to the workspace to supply just this file.</small>
	      	</div>
	      </div>
      </div>
    </div>
  </div>
</div>

<!-- 2. Attach Workflow -->
<div class="modal" id="attachWorkflowModal" tabindex="-1" role="dialog" aria-labelledby="attachWorkflowModal" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Attach Workflow</h4>
      </div>
      <div class="modal-body">
      	<p>We are creating a range of custom workflows to power specific checklist items. You can optionally choose to enable these workflows for checklist items.</p>
		<strong>Available Workflow</strong>
        <div class="media">
		  <a class="pull-left" href="#">
		    <img class="media-object" src="/static/images/icons/mail.svg" alt="..." width="30">
		  </a>
		  <div class="media-body">
		    83(b) Election Letters
		    <a href="#" class="btn btn-info btn-sm pull-right">Enable Workflow</a>
		  </div>
		</div>
		<div class="media">
		  <a class="pull-left" href="#">
		    <img class="media-object" src="/static/images/icons/magic.svg" alt="..." width="30">
		  </a>
		  <div class="media-body">
		    Engagement Letter
		    <a href="#" class="btn btn-info btn-sm pull-right">Enable Workflow</a>
		  </div>
		</div>
		<hr />
	     <div class="row">
			<div class="col-sm-12">
	      		<small class="text-muted">Custom workflow apps coming soon.</small>
	      	</div>
	      </div>
      </div>
    </div>
  </div>
</div>


{% endblock %}
{% block js %}
<script>
$( document ).ready(function() {
	$("table.checklist tr.shareholders").click(function(e){ 
		$("table.checklist tr").removeClass('selected'); 
		$(this).addClass('selected');
		$('.item.shareholders').show(); 
	})
	$("table.checklist tr.note").click(function(e){ 
		$('.item').hide();
		$("table.checklist tr").removeClass('selected'); 
		$(this).addClass('selected');
		$('.item.note').show();
	})
	$("table.checklist tr.spa").click(function(e){ 
		$('.item').hide();
		$("table.checklist tr").removeClass('selected'); 
		$(this).addClass('selected');
		$('.item.spa').show();
	})
	$("table.checklist tr.custom").click(function(e){ 
		$('.item').hide();
		$("table.checklist tr").removeClass('selected'); 
		$(this).addClass('selected');
		$('.item.custom').show();
	})
	$("#upload-doc").click(function(e){ alert('filerpicker, this should also be a drop zone. to be discussed.') });
	$("#item-description-toggle").click(function(e){ 
		$("#item-description-toggle").toggle();
		$("#item-description").toggle();
	})
	$("#add-new").click(function(e){ 
		$(".add-new-controls").toggle();
		$("#add-new").css('opacity','.5');
	})


});

</script>
{% endblock %}
{% block body %}
{% endblock %}